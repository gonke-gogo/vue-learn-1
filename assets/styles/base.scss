// 変数ファイルをインポート
@use 'variables' as *;

// カラーパレット（SCSS変数として定義）
// Light theme
$color-bg-light: #ffffff;
$color-surface-light: #f5f5f5;
$color-text-light: #1a1a1a;
$color-text-secondary-light: #666666;
$color-border-light: #e0e0e0;
$color-primary-light: #3b82f6;
$color-primary-hover-light: #2563eb;
$color-accent-light: #10b981;
$color-error-light: #ef4444;

// Dark theme
$color-bg-dark: #1a1a1a;
$color-surface-dark: #2d2d2d;
$color-text-dark: #f5f5f5;
$color-text-secondary-dark: #a0a0a0;
$color-border-dark: #404040;
$color-primary-dark: #60a5fa;
$color-primary-hover-dark: #3b82f6;
$color-accent-dark: #34d399;
$color-error-dark: #f87171;

// CSS変数として定義（ブラウザで使用）
:root {
  /* Light theme */
  --color-bg: #{$color-bg-light};
  --color-surface: #{$color-surface-light};
  --color-text: #{$color-text-light};
  --color-text-secondary: #{$color-text-secondary-light};
  --color-border: #{$color-border-light};
  --color-primary: #{$color-primary-light};
  --color-primary-hover: #{$color-primary-hover-light};
  --color-accent: #{$color-accent-light};
  --color-error: #{$color-error-light};
}

// システムのダークモード設定（data-theme属性がない場合のみ適用）
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Dark theme */
    --color-bg: #{$color-bg-dark};
    --color-surface: #{$color-surface-dark};
    --color-text: #{$color-text-dark};
    --color-text-secondary: #{$color-text-secondary-dark};
    --color-border: #{$color-border-dark};
    --color-primary: #{$color-primary-dark};
    --color-primary-hover: #{$color-primary-hover-dark};
    --color-accent: #{$color-accent-dark};
    --color-error: #{$color-error-dark};
  }
}

// data-theme属性による明示的なテーマ設定（優先度を高めるため後に配置）
[data-theme='light'] {
  --color-bg: #{$color-bg-light};
  --color-surface: #{$color-surface-light};
  --color-text: #{$color-text-light};
  --color-text-secondary: #{$color-text-secondary-light};
  --color-border: #{$color-border-light};
  --color-primary: #{$color-primary-light};
  --color-primary-hover: #{$color-primary-hover-light};
  --color-accent: #{$color-accent-light};
  --color-error: #{$color-error-light};
}

[data-theme='dark'] {
  --color-bg: #{$color-bg-dark};
  --color-surface: #{$color-surface-dark};
  --color-text: #{$color-text-dark};
  --color-text-secondary: #{$color-text-secondary-dark};
  --color-border: #{$color-border-dark};
  --color-primary: #{$color-primary-dark};
  --color-primary-hover: #{$color-primary-hover-dark};
  --color-accent: #{$color-accent-dark};
  --color-error: #{$color-error-dark};
}

// リセットスタイル
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
    'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text);
  line-height: 1.6;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

// リンクスタイル（ネストを使用）
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.2s ease;

  &:hover {
    color: var(--color-primary-hover);
  }
}

button {
  font-family: inherit;
  cursor: pointer;
  border: none;
  background: none;
}

// フォーム要素（ネストを使用）
input,
textarea {
  font-family: inherit;
}

// レスポンシブデザイン用のミックスイン
@mixin tablet {
  @media (min-width: $breakpoint-tablet) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: $breakpoint-desktop) {
    @content;
  }
}

// レスポンシブデザイン用のスタイル
// モバイルファーストのアプローチで、デフォルトはモバイル向け
@include tablet {
  html {
    font-size: 16px;
  }
}

@include desktop {
  html {
    font-size: 16px;
  }
}
